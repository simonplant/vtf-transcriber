<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>VTF Audio Transcriber</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="vtf-popup">
  <!-- Header -->
  <div class="vtf-header">
    <h1>VTF Audio Transcriber</h1>
  </div>

  <!-- Status & Controls -->
  <div class="vtf-status-section">
    <div class="vtf-status" id="captureStatus">
      <div class="vtf-status-indicator" id="statusIndicator"></div>
      <span>Not Capturing</span>
    </div>
    <div class="vtf-controls-grid">
      <button class="vtf-btn vtf-btn-success vtf-btn-sm" id="startBtn">Start</button>
      <button class="vtf-btn vtf-btn-danger vtf-btn-sm" id="stopBtn">Stop</button>
    </div>
  </div>

  <!-- Dashboard -->
  <div class="vtf-section">
    <div class="vtf-grid vtf-grid-2">
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="chunksCount">0</div>
        <div class="vtf-metric-label">Audio Chunks</div>
      </div>
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="transcriptionCount">0</div>
        <div class="vtf-metric-label">Transcriptions</div>
      </div>
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="activeSpeakers">0</div>
        <div class="vtf-metric-label">Active Speakers</div>
      </div>
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="sessionCost">$0.00</div>
        <div class="vtf-metric-label">Session Cost</div>
      </div>
    </div>
  </div>

  <!-- Performance -->
  <div class="vtf-section">
    <h6 class="vtf-section-title">Performance</h6>
    <div class="vtf-performance-stats" id="performanceMetrics">
      <span>API Calls: 0</span>
      <span>Avg Response: 0ms</span>
      <span>Error Rate: 0%</span>
    </div>
  </div>

  <!-- Voice Activity Detection -->
  <div class="vtf-section">
    <h6 class="vtf-section-title">Voice Activity Detection</h6>
    <div class="vtf-grid vtf-grid-2">
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="voiceActivity">0%</div>
        <div class="vtf-metric-label">Voice Activity</div>
      </div>
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="vadProbability">0.000</div>
        <div class="vtf-metric-label">VAD Confidence</div>
      </div>
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="signalNoise">0.0</div>
        <div class="vtf-metric-label">SNR (dB)</div>
      </div>
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="spectralCentroid">0</div>
        <div class="vtf-metric-label">Spectral (Hz)</div>
      </div>
    </div>
  </div>

  <!-- Audio Channels -->
  <div class="vtf-section">
    <h6 class="vtf-section-title">Audio Channels</h6>
    <div class="vtf-grid vtf-grid-2">
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="activeChannels">0</div>
        <div class="vtf-metric-label">Active Channels</div>
      </div>
      <div class="vtf-metric">
        <div class="vtf-metric-value" id="totalTracks">0</div>
        <div class="vtf-metric-label">Total Tracks</div>
      </div>
    </div>
    <div class="vtf-channel-list" id="channelList">
      <div class="vtf-channel-empty">No active channels</div>
    </div>
  </div>

  <!-- Current Activity -->
  <div class="vtf-section">
    <h6 class="vtf-section-title">Current Activity</h6>
    <div class="vtf-activity-grid">
      <div class="vtf-activity-item">
        <span class="vtf-activity-label">Speech Activity</span>
        <span class="vtf-activity-value" id="speechActivity">None</span>
      </div>
      <div class="vtf-activity-item">
        <span class="vtf-activity-label">Processing</span>
        <span class="vtf-activity-value" id="processingStatus">Idle</span>
      </div>
      <div class="vtf-activity-item">
        <span class="vtf-activity-label">Last Transcription</span>
        <span class="vtf-activity-value" id="lastTranscription">Never</span>
      </div>
      <div class="vtf-activity-item">
        <span class="vtf-activity-label">Audio Quality</span>
        <span class="vtf-activity-value" id="audioQuality">Unknown</span>
      </div>
      <div class="vtf-transcript-preview" id="currentTranscript">Waiting for audio...</div>
    </div>
  </div>

  <!-- Actions -->
  <div class="vtf-section">
    <h6 class="vtf-section-title">Actions</h6>
    <div class="vtf-actions">
      <button class="vtf-btn vtf-btn-primary vtf-btn-sm" id="copyBtn">Copy All</button>
      <button class="vtf-btn vtf-btn-secondary vtf-btn-sm" id="exportBtn">Export All</button>
      <button class="vtf-btn vtf-btn-info vtf-btn-sm" id="dailyExportBtn">Daily Export</button>
    </div>
  </div>

  <!-- Messages -->
  <div class="vtf-message vtf-message-error vtf-hidden" id="errorMessage"></div>
  <div class="vtf-message vtf-message-success vtf-hidden" id="successMessage"></div>

  <script src="popup.js"></script>
</body>
</html>